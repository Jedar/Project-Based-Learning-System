# PBL项目设计文档

小组：第二组  
组长：俞继涛  
组员：王永立、姜向阳、赵骞云  

## 目录  
[toc]

## 项目概述

## 前端设计

### 前端技术栈

### 前端框架

```shell script
.
├── app-routing.module.ts
├── app-share.module.ts
├── app.component.css
├── app.component.html
├── app.component.ts
├── app.module.ts
├── components
│   ├── footer-content
│   │   ├── footer-content.component.css
│   │   ├── footer-content.component.html
│   │   └── footer-content.component.ts
│   ├── header-logo
│   │   ├── header-logo.component.css
│   │   ├── header-logo.component.html
│   │   └── header-logo.component.ts
│   ├── page-error
│   │   ├── page-error.component.css
│   │   ├── page-error.component.html
│   │   └── page-error.component.ts
│   └── page-unauthorized
│       ├── page-unauthorized.component.css
│       ├── page-unauthorized.component.html
│       └── page-unauthorized.component.ts
├── ng-zorro-antd.module.ts
├── pages
│   ├── auth
│   │   ├── auth-main
│   │   ├── auth-routing.module.ts
│   │   ├── auth.module.ts
│   │   ├── example
│   │   ├── manager-login
│   │   ├── student-login
│   │   ├── student-signup
│   │   └── teacher-login
│   ├── manager
│   │   ├── manager-class
│   │   ├── manager-class-chart
│   │   ├── manager-class-create
│   │   ├── manager-main
│   │   ├── manager-project
│   │   ├── manager-project-chart
│   │   ├── manager-project-create
│   │   ├── manager-routing.module.ts
│   │   ├── manager-student
│   │   ├── manager-student-create
│   │   ├── manager-system
│   │   ├── manager-teacher
│   │   ├── manager-teacher-create
│   │   └── manager.module.ts
│   ├── project
│   │   ├── pj-all-task
│   │   ├── pj-discuss
│   │   ├── pj-edit-task
│   │   ├── pj-file
│   │   ├── pj-info
│   │   ├── pj-manage-info
│   │   ├── pj-manage-task
│   │   ├── pj-mark-mate
│   │   ├── pj-mark-score
│   │   ├── pj-modify-task
│   │   ├── pj-my-score
│   │   ├── pj-my-task
│   │   ├── pj-student-main
│   │   ├── pj-teacher-main
│   │   ├── project-routing.module.ts
│   │   └── project.module.ts
│   ├── student
│   │   ├── course-card
│   │   ├── course-info
│   │   ├── course-join
│   │   ├── course-list
│   │   ├── course-main
│   │   ├── info
│   │   ├── memo-list
│   │   ├── modify-info
│   │   ├── project-join
│   │   ├── project-list
│   │   ├── student-main
│   │   ├── student-routing.module.ts
│   │   └── student.module.ts
│   ├── teacher
│   │   ├── course-add
│   │   ├── course-info
│   │   ├── course-list
│   │   ├── course-main
│   │   ├── info
│   │   ├── modify-info
│   │   ├── project-add
│   │   ├── project-list
│   │   ├── teacher-main
│   │   ├── teacher-routing.module.ts
│   │   └── teacher.module.ts
│   └── welcome
│       ├── welcome
│       ├── welcome-routing.module.ts
│       └── welcome.module.ts
├── services
│   ├── auth.service.ts
│   ├── common.service.ts
│   ├── course.service.ts
│   ├── discussion.service.ts
│   ├── file.service.ts
│   ├── manager.service.ts
│   ├── memo.service.ts
│   ├── project.service.ts
│   ├── score.service.ts
│   ├── student.service.ts
│   ├── task.service.ts
│   ├── teacher.service.ts
│   └── upload-file.service.ts
└── share
    ├── CommonValidator.ts
    ├── MyInterceptor.ts
    ├── Token.ts
    ├── common.model.ts
    ├── course.model.ts
    ├── dicussion.model.ts
    ├── file.model.ts
    ├── memo.model.ts
    ├── project.model.ts
    ├── score.model.ts
    ├── student.model.ts
    ├── task.model.ts
    └── teacher.model.ts
```

### 前端页面展示


## 后端设计

### 后端技术栈

| **技术类型**   | **技术名称**        |
| -------------- | ------------------- |
| 后端框架       | Spring  Boot        |
| 数据库访问层   | Mybatis，通用Mapper |
| JSON数据封装   | Fastjson            |
| JWT身份验证    | Java-jwt            |
| 前后端接口文档 | Swagger             |
| 接口测试       | Postman             |
| 代码框架生成器 | freemaker           |

### 后端框架概述

我们的后端是基于 Spring Boot 框架进行搭建的，数据库方面使用了 Mybatis 框架。

我们使用了很方便的代码生成器来生成数据库中每一个实体对应的实体类以及数据访问层、业务层和控制层文件等，然后我们根据需要修改和新增需要的实体类，以及相应的Mapper、Service和Controller文件中添加相应的功能即可。使用代码生成器既省去了创建各种类文件的过程，又有一定的编码规范。

另外，我们在后端开发的过程中对功能的实现进行测试。对于每一个Mapper都创建了一个测试类，并对每一个Mapper的所有方法都进行了测试。然后对于Controller的测试，我们使用Postman软件，自定义HTTP请求，从而判断Controller的功能实现是否正确。

为了更好地对接前后端，避免出现各种问题，我们使用了Swagger将接口信息规范化，并生成很详细的接口文档。（Swagger部分后面会详细介绍）

下面是后端目录目录的简单介绍

```shell script
.
├─ annotation   用户权限验证的注解
├─ configurer   配置文件
├─ controller   控制层
├─ core         通用Mapper、后端返回数据等相关的类、
├─ dao          数据访问层
├─ interceptor  拦截器
├─ pojo         实体类集合
├─ request      
├─ service      业务层接口
│  └─ impl      业务层实现
└─ utils        工具类集合
```

### 数据访问层

数据访问层主要是对接数据库，进行数据库的访问以及进行数据的操作。每个Mapper类都对应着一个Mapper XML文件，Mapper类中定义数据库操作的接口，而真正的SQL语句是写在Mapper XML文件中的。

```shell script
.
├── CourseMapper.java
├── DiscussionMapper.java
├── FileMapper.java
├── MemoMapper.java
├── ProjectMapper.java
├── ScoreMapper.java
├── StudentMapper.java
├── TaskMapper.java
├── TeacherMapper.java
└── UserMapper.java
```
### 业务层

业务层主要负责所有的后端功能的实现，供控制层调用。业务层主要是通过调用Mapper来进行数据库操作。

```shell script
.
├── CourseService.java
├── DiscussionService.java
├── FileService.java
├── IUploadService.java
├── MemoService.java
├── ProjectService.java
├── ScoreService.java
├── StudentService.java
├── TaskService.java
├── TeacherService.java
├── UserService.java
└── impl
```

### 控制层

控制层主要是负责与前端进行交互，接收并处理从前端传递过来的请求信息，然后调用相应的Service（业务层）类进行各种的操作和处理。

这里的`VerifyController.java`是负责后端生成验证码以及验证码的验证，其他的都是各种实体如user、project对应的相关操作。

```shell script
.
├── CourseController.java
├── DiscussionController.java
├── FileController.java
├── HelloController.java
├── MemoController.java
├── ProjectController.java
├── ScoreController.java
├── StudentController.java
├── TaskController.java
├── TeacherController.java
├── UploadController.java
├── UserController.java
└── VerifyController.java
```



## 关键功能的实现

### 评分功能

### 甘特图

### 文件上传

### JWT访问身份验证

### Swagger接口

## 项目部署

## 遇到的问题

### 例一

## 项目参考



